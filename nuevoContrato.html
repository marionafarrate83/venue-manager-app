<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Venue Manager</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <h2>Ingrese los datos del contrato</h2>
    <div class="container-md">
      <form action="">
        <legend>Datos del contrato</legend>

        <label for="nombre_cliente">Nombre:</label>
        <input type="text" id="nombre_cliente" />

        <label for="email">Email</label>
        <input type="email" id="email" />

        <label for="telefono">Telefono</label>
        <input type="text" id="telefono" />

        <legend>Datos del evento</legend>
        <br />

        <label for="fechaEvento">Fecha del Evento</label>
        <input type="date" id="fechaEvento" />

        <label for="tipoEvento">Tipo de Evento</label>
        <input type="text" id="tipoEvento" />

        <label for="horario">Horario</label>
        <input type="text" id="horario" />

        <label for="costo">Costo</label>
        <input type="number" id="costo" />

        <label for="anticipo">anticipo</label>
        <input type="number" id="anticipo" />

        <br />

        <button id="submitPost" type="submit" class="btn btn-light" onclick=registrarEvento()>Submit</button>
      </form>
    </div>

    <div class="container-md mt-5">
      <button><a href="/">Home</a></button>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"
    ></script>

    <script src=https://www.gstatic.com/firebasejs/4.8.1/firebase.js></script>

    <script>
      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyDXgzcxcKWW9RRPp5pSDdAjWNgs1jmOKpw",
        authDomain: "venue-manager-c9df1.firebaseapp.com",
        databaseURL: "https://venue-manager-c9df1-default-rtdb.firebaseio.com",
        projectId: "venue-manager-c9df1",
        storageBucket: "venue-manager-c9df1.appspot.com",
        messagingSenderId: "137052569769",
        appId: "1:137052569769:web:0e48cb19ee2703533c69b8",
        measurementId: "G-W9Q939XWPF"
      };

      // Initialize Firebase
      const app = firebase.initializeApp(firebaseConfig);

      const dbRef = firebase.database().ref();

      console.log("dbref: " + dbRef)

      async function registrarEvento() {

        nombreCliente = document.getElementById("nombre_cliente").value
        email = document.getElementById("email").value
        telefono = document.getElementById("telefono").value
        fechaEvento = document.getElementById("fechaEvento").value
        tipoEvento = document.getElementById("tipoEvento").value
        horario = document.getElementById("horario").value
        costo = document.getElementById("costo").value
        anticipo = document.getElementById("anticipo").value

        await firebase.database().ref('eventos').push({
            nombreCliente: nombreCliente,
            email: email,
            telefono: telefono,
            fechaEvento: fechaEvento,
            tipoEvento: tipoEvento,
            horario: horario,
            costo: costo,
            anticipo: anticipo

        }); 
        
      }
      
    </script>

    
  </body>
</html>
